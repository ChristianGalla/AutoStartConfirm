<ResourceDictionary x:Class="AutoStartConfirm.GUI.NotifyIcon"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="http://www.hardcodet.net/taskbar"
    x:Name="Icon"
    xmlns:local="clr-namespace:AutoStartConfirm.GUI"
    xmlns:local1="clr-namespace:AutoStartConfirm.Models">
    <local:NotifyIconDoubleClickCommand x:Key="NotifyIconDoubleClickCommand"></local:NotifyIconDoubleClickCommand>
    <tb:TaskbarIcon x:Key="NotifyIcon"
                  IconSource="/Assets/Icon.ico"
                  ToolTipText="Auto Start Confirm"
                  DoubleClickCommand="{StaticResource NotifyIconDoubleClickCommand}">
        <tb:TaskbarIcon.ContextMenu>
            <ContextMenu>
                <MenuItem
                    Name="OwnAutoStartTaskbarMenuItem"
                    IsCheckable="True"
                    Click="OwnAutoStartClicked"
                    Header="Start 'Auto Start Confirm' on logon of current user"
                    IsChecked="{Binding Path=AppStatus.HasOwnAutoStart, Mode=OneWay}" />
                <MenuItem Header="Exit" Click="ExitClicked" />
            </ContextMenu>
        </tb:TaskbarIcon.ContextMenu>
        <tb:TaskbarIcon.DataContext>
            <local1:NotifyIconViewModel />
        </tb:TaskbarIcon.DataContext>
    </tb:TaskbarIcon>
</ResourceDictionary>